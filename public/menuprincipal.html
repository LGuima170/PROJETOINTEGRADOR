<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Tooplate">
    <link
        href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap"
        rel="stylesheet">

    <title>Menu Principal</title>


    <!-- Additional CSS Files -->
    <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css">

    <link rel="stylesheet" type="text/css" href="assets/css/font-awesome.css">

    <link rel="stylesheet" type="text/css" href="assets/css/owl-carousel.css">

    <link rel="stylesheet" href="assets/css/tooplate-artxibition.css">
    <!--

Tooplate 2125 ArtXibition

https://www.tooplate.com/view/2125-artxibition

-->
</head>

<body>

    <!-- ***** Preloader Start ***** -->
    <div id="js-preloader" class="js-preloader">
        <div class="preloader-inner">
            <span class="dot"></span>
            <div class="dots">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </div>
    <!-- ***** Preloader End ***** -->

    <!-- ***** Pre HEader ***** -->
    <div class="pre-header">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 col-sm-6">
                    <span>Onde o esporte começa!</span>
                </div>
            </div>
        </div>
    </div>

    <!-- ***** Header Area Start ***** -->
    <header class="header-area header-sticky">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <nav class="main-nav">
                        <!-- ***** Logo Start ***** -->
                        <a href="menuprincipal.html" class="logo">Esporte<em>Agenda</em></a>
                        <!-- ***** Logo End ***** -->
                        <!-- ***** Menu Start ***** -->
                        <ul class="nav">
                            <li><a href="menuprincipal.html">Início</a></li>
                            <li><a href="teladealuguel.html">Alugue uma quadra</a></li>
                            <li><a href="principaiseventos.html">Principais eventos</a></li>
                            <li><a href="publiquesuaquadra.html">Publicar uma quadra</a></li>
                            <li><a href="/">Login</a></li>
                        </ul>
                        <a class='menu-trigger'>
                            <span>Menu</span>
                        </a>
                        <!-- ***** Menu End ***** -->
                    </nav>
                </div>
            </div>
        </div>
    </header>
    <!-- ***** Header Area End ***** -->

    <!-- ***** About Us Page ***** -->
    <div class="page-heading-about">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h2>EM DESTAQUE</h2>
                    <span id="destaque-nome">Carregando...</span>
                </div>
            </div>
        </div>
    </div>

    <div class="about-item">
        <div class="container">
            <div class="row">
                <div class="col-lg-8">
                    <div class="left-image">
                        <img id="destaque-imagem" src="assets/images/venue-01.jpg" alt="quadra em destaque">
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="right-content">
                        <div class="about-map-image">
                            <div id="map">
                                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2361.6782744839447!2d-48.00396912773283!3d-15.82164172492172!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x935a33b2727d1d4d%3A0x9f831aa9382d5511!2sArena%2061!5e1!3m2!1spt-BR!2sbr!4v1718497520194!5m2!1spt-BR!2sbr" width="382" height="250" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                            </div>
                        </div>
                        <div class="down-content">
                            <h4 id="destaque-titulo">Carregando...</h4>
                            <ul id="destaque-info">
                                <li>Carregando...</li>
                                <li>Carregando...</li>
                            </ul>
                            <span><i class="fa fa-ticket"></i>Pagamento no local</span>
                            <div style="display: flex; gap: 10px;">
                                <div class="main-dark-button">
                                    <a href="teladealuguel.html">Saiba mais</a>
                                </div>
                                <div class="main-dark-button">
                                    <a href="teladealuguel.html">Ver destaque</a>
                                </div>
                            </div>                                               
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="about-upcoming-shows">
                <div .div-grid {

                    display: grid;
                    
                    place-items: center;
                    
                    }>
                    <div class="next-shows">
                        <h4><i class="fa fa-clock-o"></i>Conheça lugares próximos de você</h4>
                        <ul id="quadras-lista">
                            <li>
                                <h5>Carregando...</h5>
                                <span>Carregando...</span>
                                <div class="icon-button">
                                    <a href="teladealuguel.html">
                                        <i class="fa fa-shopping-cart"></i>
                                    </a>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- *** Footer *** -->
    <footer>
                <div .div-grid {

                    display: grid;
                    
                    place-items: center;
                    
                    }>
                   
                </div>
                <div class="col-lg-12">
                    <div class="under-footer">
                        <div class="row">
                            <div class="col-lg-6">
                                <p>Brasília, Distrito Federal</p>
                            </div>
                            <div class="col-lg-6">
                                <p class="copyright">EsporteAgenda Inc. 2024
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-12">
                    <div class="sub-footer">
                        <div class="row">
                            <div class="col-lg-3">
                                <div class="logo"><span>Esporte<em>Agenda</em></span></div>
                            </div>
                           
                            <div class="col-lg-3">
                                <div class="social-links">
                                    <ul>
                                        <li><a href="#"><i class="fa fa-twitter"></i></a></li>
                                        <li><a href="#"><i class="fa fa-facebook"></i></a></li>
                                        <li><a href="#"><i class="fa fa-instagram"></i></a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <script src="assets/js/jquery-2.1.0.min.js"></script>

    <!-- Bootstrap -->
    <script src="assets/js/popper.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>

    <!-- Plugins -->
    <script src="assets/js/scrollreveal.min.js"></script>
    <script src="assets/js/waypoints.min.js"></script>
    <script src="assets/js/jquery.counterup.min.js"></script>
    <script src="assets/js/imgfix.min.js"></script> 
    <script src="assets/js/mixitup.js"></script> 
    <script src="assets/js/accordions.js"></script>
    <script src="assets/js/owl-carousel.js"></script>
    
    <!-- Global Init -->
    <script src="assets/js/custom.js"></script>
    
    <!-- Script para carregar quadras do banco de dados -->
    <script>
        // Função para formatar o tipo de quadra
        function formatarTipo(tipo) {
            const tipos = {
                'gramado_sintetico': 'Gramado Sintético',
                'society': 'Society',
                'areia': 'Areia',
                'cimento': 'Cimento',
                'madeira': 'Madeira'
            };
            return tipos[tipo] || tipo;
        }
        
        // Função para formatar a disponibilidade
        function formatarDisponibilidade(quadra) {
            const dias = {
                'segunda': 'Segunda',
                'terca': 'Terça',
                'quarta': 'Quarta',
                'quinta': 'Quinta',
                'sexta': 'Sexta',
                'sabado': 'Sábado',
                'domingo': 'Domingo'
            };
            
            const diaInicio = dias[quadra.dia_inicio] || quadra.dia_inicio;
            const diaFim = dias[quadra.dia_fim] || quadra.dia_fim;
            
            return `${diaInicio} a ${diaFim}<br>${quadra.hora_inicio} - ${quadra.hora_fim}`;
        }
        
        // Função para carregar e exibir as quadras
        async function carregarQuadras() {
            try {
                const response = await fetch('/api/quadras');
                const data = await response.json();
                
                if (data.success && data.quadras.length > 0) {
                    const quadras = data.quadras;
                    
                    // Definir a primeira quadra como destaque
                    const quadraDestaque = quadras[0];
                    
                    // Preencher seção de destaque
                    document.getElementById('destaque-nome').textContent = quadraDestaque.nome;
                    document.getElementById('destaque-titulo').textContent = quadraDestaque.nome;
                    document.getElementById('destaque-imagem').src = quadraDestaque.imagem_url || 'assets/images/venue-01.jpg';
                    document.getElementById('destaque-imagem').alt = quadraDestaque.nome;
                    
                    // Preencher informações do destaque
                    const destaqueInfo = document.getElementById('destaque-info');
                    destaqueInfo.innerHTML = `
                        <li>${formatarTipo(quadraDestaque.tipo)}</li>
                        <li>${quadraDestaque.hora_inicio} - ${quadraDestaque.hora_fim}</li>
                    `;
                    
                    // Preencher lista de quadras próximas (máximo 3)
                    const quadrasLista = document.getElementById('quadras-lista');
                    const quadrasParaExibir = quadras.slice(1, 4); // Pega as próximas 3 quadras
                    
                    if (quadrasParaExibir.length > 0) {
                        quadrasLista.innerHTML = quadrasParaExibir.map(quadra => `
                            <li>
                                <h5>${quadra.nome}</h5>
                                <span>${formatarDisponibilidade(quadra)}</span>
                                <div class="icon-button">
                                    <a href="teladealuguel.html">
                                        <i class="fa fa-shopping-cart"></i>
                                    </a>
                                </div>
                            </li>
                        `).join('');
                    } else {
                        // Se não há outras quadras, mostrar mensagem
                        quadrasLista.innerHTML = `
                            <li>
                                <h5>Nenhuma outra quadra disponível</h5>
                                <span>Cadastre mais quadras para ver aqui</span>
                                <div class="icon-button">
                                    <a href="publiquesuaquadra.html">
                                        <i class="fa fa-plus"></i>
                                    </a>
                                </div>
                            </li>
                        `;
                    }
                    
                } else {
                    // Se não há quadras cadastradas
                    document.getElementById('destaque-nome').textContent = 'Nenhuma quadra cadastrada';
                    document.getElementById('destaque-titulo').textContent = 'Nenhuma quadra cadastrada';
                    document.getElementById('destaque-info').innerHTML = `
                        <li>Cadastre a primeira quadra</li>
                        <li>Ela aparecerá aqui em destaque</li>
                    `;
                    
                    document.getElementById('quadras-lista').innerHTML = `
                        <li>
                            <h5>Nenhuma quadra disponível</h5>
                            <span>Seja o primeiro a cadastrar uma quadra</span>
                            <div class="icon-button">
                                <a href="publiquesuaquadra.html">
                                    <i class="fa fa-plus"></i>
                                </a>
                            </div>
                        </li>
                    `;
                }
                
            } catch (error) {
                console.error('Erro ao carregar quadras:', error);
                
                // Em caso de erro, mostrar mensagem
                document.getElementById('destaque-nome').textContent = 'Erro ao carregar';
                document.getElementById('destaque-titulo').textContent = 'Erro ao carregar quadras';
                document.getElementById('destaque-info').innerHTML = `
                    <li>Não foi possível carregar as quadras</li>
                    <li>Tente novamente mais tarde</li>
                `;
                
                document.getElementById('quadras-lista').innerHTML = `
                    <li>
                        <h5>Erro ao carregar</h5>
                        <span>Não foi possível carregar as quadras</span>
                        <div class="icon-button">
                            <a href="teladealuguel.html">
                                <i class="fa fa-refresh"></i>
                            </a>
                        </div>
                    </li>
                `;
            }
        }
        
        // Carregar quadras quando a página carregar
        document.addEventListener('DOMContentLoaded', function() {
            carregarQuadras();
        });
    </script>
  </body>
</html>